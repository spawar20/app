<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event Expense Calculator</title>
</head>
<body>
    <h1>Event Expense Calculator</h1>
    <form method="POST">
        <label for="hall_rent">Hall Rent:</label>
        <input type="number" id="hall_rent" name="hall_rent" step="0.01" value="{{ result.hall_rent if result.hall_rent is not none else '' }}" required><br><br>

        <label for="food">Food Cost:</label>
        <input type="number" id="food" name="food" step="0.01" value="{{ result.food if result.food is not none else '' }}" required><br><br>

        <label for="miscellaneous">Miscellaneous Cost (Default ₹30000):</label>
        <input type="number" id="miscellaneous" name="miscellaneous" value="{{ result.miscellaneous if result.miscellaneous is not none else 30000 }}" step="0.01"><br><br>

        <label>Include GST on Hall Rent (18% by default):</label><br>
        <input type="radio" id="gst_yes" name="gst_option" value="yes" {% if result.gst_option == 'yes' %}checked{% endif %}>
        <label for="gst_yes">Yes</label><br>
        <input type="radio" id="gst_no" name="gst_option" value="no" {% if result.gst_option == 'no' %}checked{% endif %}>
        <label for="gst_no">No</label><br><br>

        <button type="submit">Calculate</button>
    </form>

    {% if result %}
        {% if result.error %}
            <h2>{{ result.error }}</h2>
        {% else %}
            <h2>Calculation Result:</h2>
            <p><strong>Hall Rent:</strong> ₹{{ result.hall_rent }}</p>
            {% if result.gst %}
                <p><strong>GST ({{ result.gst_rate }}% on Hall Rent):</strong> ₹{{ result.gst }}</p>
            {% else %}
                <p><strong>GST:</strong> Not Included</p>
            {% endif %}
            <p><strong>Total:</strong> ₹{{ result.total }}</p>
        {% endif %}
    {% endif %}
</body>
</html>
